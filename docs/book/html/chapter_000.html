<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="generator" content="crowbook">
    <meta name="author" content="Élisabeth Henry">
    <meta name="viewport" content="width=device-width">
    <title>Crowbook User Guide – 1. Crowbook</title>
    <link rel = "stylesheet" href = "stylesheet.css" type = "text/css"
          />
    <link rel = "stylesheet" href = "print.css" type = "text/css"
          media = "print" />
    <link rel = "stylesheet" href = "highlight.css" type = "text/css"
          />
    <script src = "highlight.js"></script>
    <script>
      hljs.initHighlightingOnLoad();
    </script>
   <script>
function on(name) {
    var elements = document.getElementsByClassName(name);
    for (var i = 0; i < elements.length; i++) {
        var elem = elements[i];
        elem.style.backgroundColor = "pink";
    }
}
function off(name) {
    var elements = document.getElementsByClassName(name);
    for (var i = 0; i < elements.length; i++) {
        var elem = elements[i];
        elem.style.backgroundColor = "white";
    }
}

var display_menu = false;
function toggle() {
    if (display_menu == true) {
        display_menu = false;
        document.getElementById("nav").style.left = "-20%";
        document.getElementById("content").style.marginLeft = "10%";
        document.getElementById("menu").style.left = "1em";
        if(document.getElementById("top")) {
            document.getElementById("top").style.left = "0";
        }
        if(document.getElementById("footer")) {
            document.getElementById("footer").style.marginLeft = "0%";
        }
    } else {
        display_menu = true;
        document.getElementById("nav").style.left = "0";
        document.getElementById("content").style.marginLeft = "30%";
        document.getElementById("menu").style.left = "20%";
        if(document.getElementById("top")) {
            document.getElementById("top").style.left = "20%";
        }
        if(document.getElementById("footer")) {
            document.getElementById("footer").style.marginLeft = "20%";
        }
    }
}

   </script>


  </head>  
  <body>

  <nav id = "nav">
    <h2><a href = "index.html">Crowbook User Guide</a></h2>
    <ul>
 <li><a href = "chapter_000.html#link-1">1. Crowbook</a>
 <ul>
  <li><a href = "chapter_000.html#link-2">1.1. Example</a>
  </li>
  <li><a href = "chapter_000.html#link-3">1.2. Installing</a>
  </li>
  <li><a href = "chapter_000.html#link-7">1.3. Dependencies</a>
  </li>
  <li><a href = "chapter_000.html#link-8">1.4. Quick tour</a>
  </li>
  <li><a href = "chapter_000.html#link-9">1.5. Current features</a>
  </li>
  <li><a href = "chapter_000.html#link-17">1.6. Contributors</a>
  </li>
  <li><a href = "chapter_000.html#link-18">1.7. Acknowledgements</a>
  </li>
  <li><a href = "chapter_000.html#link-19">1.8. ChangeLog</a>
  </li>
  <li><a href = "chapter_000.html#link-20">1.9. Library</a>
  </li>
  <li><a href = "chapter_000.html#link-21">1.10. License</a>
  </li>
 </ul>
 </li>
 <li><a href = "chapter_001.html#link-22">2. Arguments</a>
 <ul>
  <li><a href = "chapter_001.html#link-23">2.1. <code>--create</code></a>
  </li>
  <li><a href = "chapter_001.html#link-25">2.2. <code>--single</code></a>
  </li>
  <li><a href = "chapter_001.html#link-26">2.3. <code>--set</code></a>
  </li>
  <li><a href = "chapter_001.html#link-28">2.4. <code>--proofread</code></a>
  </li>
  <li><a href = "chapter_001.html#link-29">2.5. <code>--list-options</code></a>
  </li>
  <li><a href = "chapter_001.html#link-30">2.6. <code>--print-template</code></a>
  </li>
  <li><a href = "chapter_001.html#link-31">2.7. <code>--verbose</code></a>
  </li>
  <li><a href = "chapter_001.html#link-32">2.8. <code>--to</code></a>
  </li>
  <li><a href = "chapter_001.html#link-34">2.9. <code>--output</code></a>
  </li>
 </ul>
 </li>
 <li><a href = "chapter_002.html#link-35">3. The configuration file</a>
 <ul>
  <li><a href = "chapter_002.html#link-36">3.1. Configuration in an inline YAML block (<code>crowbook --single</code>)</a>
  </li>
  <li><a href = "chapter_002.html#link-37">3.2. The list of files</a>
  </li>
  <li><a href = "chapter_002.html#link-38">3.3. Crowbook options</a>
  </li>
 </ul>
 </li>
 <li><a href = "chapter_003.html#link-66">4. Templates</a>
 <ul>
  <li><a href = "chapter_003.html#link-67">4.1. Create and edit template</a>
  </li>
  <li><a href = "chapter_003.html#link-71">4.2. List of templates</a>
  </li>
  <li><a href = "chapter_003.html#link-86">4.3. List of accessible variables</a>
  </li>
 </ul>
 </li>
 <li><a href = "chapter_004.html#link-90">5. Proofreading with Crowbook</a>
 <ul>
  <li><a href = "chapter_004.html#link-91">5.1. Enabling proofreading</a>
  </li>
  <li><a href = "chapter_004.html#link-92">5.2. Repetition detection</a>
  </li>
  <li><a href = "chapter_004.html#link-93">5.3. Grammar checking</a>
  </li>
  <li><a href = "chapter_004.html#link-94">5.4. Highlighting non-breaking spaces</a>
  </li>
 </ul>
 </li>
 <li><a href = "chapter_005.html#link-95">6. Tips and tricks</a>
 <ul>
  <li><a href = "chapter_005.html#link-96">6.1. Using Crowbook with Emacs’ markdown mode</a>
  </li>
  <li><a href = "chapter_005.html#link-99">6.2. Embedding fonts in an EPUB file</a>
  </li>
 </ul>
 </li>
 <li><a href = "chapter_006.html#link-100">ChangeLog</a>
 <ul>
  <li><a href = "chapter_006.html#link-101">unreleased</a>
  </li>
  <li><a href = "chapter_006.html#link-102">0.10.1 (2016-10-18)</a>
  </li>
  <li><a href = "chapter_006.html#link-103">0.10.0 (2016-10-18)</a>
  </li>
  <li><a href = "chapter_006.html#link-104">0.9.1 (2016-09-29)</a>
  </li>
  <li><a href = "chapter_006.html#link-105">0.9.0 (2016-09-23)</a>
  </li>
  <li><a href = "chapter_006.html#link-106">0.8.0 (2016-09-19)</a>
  </li>
  <li><a href = "chapter_006.html#link-107">0.7.0 (2016-09-11)</a>
  </li>
  <li><a href = "chapter_006.html#link-108">0.6.0 (2016-09-09)</a>
  </li>
  <li><a href = "chapter_006.html#link-109">0.5.1 (2016-04-14)</a>
  </li>
  <li><a href = "chapter_006.html#link-110">0.5.0 (2016-04-02)</a>
  </li>
  <li><a href = "chapter_006.html#link-111">0.4.0 (2016-03-01)</a>
  </li>
  <li><a href = "chapter_006.html#link-112">0.3.0 (2016-02-27)</a>
  </li>
  <li><a href = "chapter_006.html#link-113">0.2.2 (2016-02-25)</a>
  </li>
  <li><a href = "chapter_006.html#link-114">0.2.1 (2016-02-25)</a>
  </li>
  <li><a href = "chapter_006.html#link-115">0.2.0 (2016-02-25)</a>
  </li>
  <li><a href = "chapter_006.html#link-116">0.1.0 (2016-02-21)</a>
  </li>
 </ul>
 </li>
 <li><a href = "chapter_007.html#link-117">GNU LESSER GENERAL PUBLIC LICENSE</a>
 </li>
</ul>
  </nav>

  <div id = "content">
    <div id = "page">
      <header>
        <div id = "top"><p id = "para-291">Crowbook User Guide 0.10.2</p>
</div>
          <div id = "menu">
      <img id = "menu-button" onclick="toggle();"
           src="menu.svg" alt = "Table of contents" title = "Table of contents" />
          </div>
    </header>
      
      <h1 id = "link-1">1. Crowbook</h1>
<p id = "para-1"><a href = "https://travis-ci.org/lise-henry/crowbook"><img src = "https://travis-ci.org/lise-henry/crowbook.svg?branch=master" title = "" alt = "Build Status" /></a></p>
<p id = "para-2">Render a book written in markdown to HTML, EPUB and/or PDF.</p>
<p id = "para-3">Crowbook’s purpose is to allow you to automatically generate multiple outputs formats from a book written in Markdown. Its focus is novels, and the default settings should (hopefully) generate readable books with correct typography without requiring you to worry about it.</p>
<h2 id = "link-2">1.1. Example</h2>
<p id = "para-4">To see what Crowbook’s output looks like, you can read the Crowbook guide rendered in <a href = "http://lise-henry.github.io/crowbook/book/book.html">HTML</a>, <a href = "http://lise-henry.github.io/crowbook/book/book.pdf">PDF</a> or <a href = "http://lise-henry.github.io/crowbook/book/book.epub">EPUB</a>.</p>
<p id = "para-5">You can also play with the <a href = "http://vps.crowdagger.fr/crowbook/">online demo version here</a>.</p>
<h2 id = "link-3">1.2. Installing</h2>
<p id = "para-6">There are three ways to install Crowbook:</p>
<h3 id = "link-4">Packages</h3>
<p id = "para-7">If you are on Debian GNU/Linux or Ubuntu (on a PC architecture), you can download <code>.deb</code> packages on <a href = "https://github.com/lise-henry/crowbook/releases">the releases page</a>.</p>
<h3 id = "link-5">Binaries</h3>
<p id = "para-8">See <a href = "https://github.com/lise-henry/crowbook/releases">the releases page</a> to download a precompiled binary for your architecture (currently: Linux, Windows and MacOSX). Just extract the archive and run <code>crowbook</code> (or <code>crowbook.exe</code> on Windows). You might also want to copy the binary somewhere in your <code>PATH</code> for later usage.</p>
<blockquote><p id = "para-9">Note: only the Linux binaries are really tested, please contact me if you have any trouble executing the Windows or Mac binaries.</p>
</blockquote>
<h3 id = "link-6">Using Cargo</h3>
<p id = "para-10"><a href = "https://crates.io/">Cargo</a> is the <a href = "https://www.rust-lang.org/">Rust</a>’s package manager. You can <a href = "https://www.rust-lang.org/downloads.html">install it here</a>. Once it is done:</p>
<pre><code class = "language-bash">$ cargo install crowbook
</code></pre>
<p id = "para-11">will automatically download the latest <code>crowbook</code> release on <a href = "https://crates.io/crates/crowbook">crates.io</a>, compile it, and install it on your system.</p>
<h2 id = "link-7">1.3. Dependencies</h2>
<p id = "para-12">While there should be, strictly speaking, no real dependencies to be able to run Crowbook (it is published a a statically compiled binary), some features require additional commands to work correctly:</p>
<ul>
<li>EPUB rendering requires that the <code>zip</code> command be present on your system;</li>
<li>PDF rendering requires a working installation of LaTeX (preferably <code>xelatex</code>).</li>
</ul>
<h2 id = "link-8">1.4. Quick tour</h2>
<p id = "para-13">The simplest command is:</p>
<pre><code class = "language-bash">$ crowbook &lt;BOOK&gt;
</code></pre>
<p id = "para-14">where <code>BOOK</code> is a configuration file. Crowbook will parse this file and generate a book in HTML, EPUB, and/or PDF, according to the settings in the configuration file.</p>
<p id = "para-15">To create a new book, assuming you have a list of Markdown files, you can generate a template configuration file with the <code>--create</code> argument:</p>
<pre><code class = "language-bash">$ crowbook --create my.book chapter_*.md
</code></pre>
<p id = "para-16">This will generate a default <code>my.book</code> file, which you’ll need to complete. This configuration file contains some metadata, options, and lists the Markdown files.</p>
<p id = "para-17">For more information see <a href = "chapter_002.html">the configuration file</a>.</p>
<p id = "para-18">It is also possible to give additional parameters to <code>crowbook</code>; we have already seen <code>--create</code>, but if you want the full list, see <a href = "chapter_001.html">the arguments</a>.</p>
<h2 id = "link-9">1.5. Current features</h2>
<h3 id = "link-10">Output formats</h3>
<p id = "para-19">Crowbook supports HTML, PDF and EPUB (either version 2 or 3) as output formats. See the Crowbook User Guide rendered in <a href = "http://lise-henry.github.io/crowbook/book/book.html">HTML</a>, <a href = "http://lise-henry.github.io/crowbook/book/book.epub">EPUB</a> and <a href = "http://lise-henry.github.io/crowbook/book.pdf">PDF</a>.</p>
<h3 id = "link-11">Input format</h3>
<p id = "para-20">Crowbook uses <a href = "https://crates.io/crates/pulldown-cmark">pulldown-cmark</a> and thus should support most of CommonMark Markdown. Inline HTML, however, is not implemented, and probably won’t be, as the goal is to have books that can also be generated in PDF (and maybe ODT).</p>
<h3 id = "link-12">Typographic “cleaning”</h3>
<p id = "para-21">Maybe the most specific “feature” of Crowbook is that (by default, it can be deactivated) it tries to “clean” the input files. By default, it removes superfluous spaces and tries to use curly quotes. If the book’s language is set to french, it also tries its best to respect french typography by replacing spaces with non-breaking ones when it is appropriate (e.g. before ‘?’, ‘!’, ‘;’ or ‘:’).</p>
<blockquote><p id = "para-22">This feature is currently limited to french language, but please <a href = "https://github.com/lise-henry/crowbook/issues/new">open an issue</a> describing typographic rules if you want it to be implemented for another language.</p>
</blockquote>
<h3 id = "link-13">Links handling</h3>
<p id = "para-23">Crowbook tries to correctly translate local links in the input Markdown files: e.g. if you have a link to a markdown file that is part of your book, it will be transformed into a link inside the document.</p>
<h3 id = "link-14">Inline YAML blocks</h3>
<p id = "para-24">Crowbook supports inline YAML blocks:</p>
<pre><code class = "language-yaml">---
author: Me
title: My title
---
</code></pre>
<p id = "para-25">This is mostly useful when Crowbook is runned with the <code>--single</code> argument (receiving a single Markdown file instead of a book configuration file). E.g., the following Markdown file:</p>
<pre><code class = "language-yaml">---
author: John Doe
title: A book

output.html: book.html
---

This is a very tiny book!
</code></pre>
<p id = "para-26">can be processed with <code>crowbook --single foo.md</code> or <code>crowbook -s foo.md</code> to produce the <code>book.html</code> file. This is useful for short texts that only contain one “chapter”.</p>
<h3 id = "link-15">Proofreading</h3>
<p id = "para-27">Crowbook can also generate “proofreading” copies in HTML or PDF, highlighting grammar errors and repetitions.</p>
<blockquote><p id = "para-28">This feature has been introduced in version <code>0.9.1</code> and is still experimental. For more information, see <a href = "chapter_004.html">the proofreading chapter of the guide</a>.</p>
</blockquote>
<h3 id = "link-16">Bugs</h3>
<p id = "para-29">See the <a href = "https://github.com/lise-henry/crowbook/issues">github’s issue tracker</a>.</p>
<h2 id = "link-17">1.6. Contributors</h2>
<ul>
<li><a href = "http://stephanemourey.fr/">Stéphane Mourey</a> <code>&lt;s+crowbook AT stephanemourey DOT fr&gt;</code></li>
</ul>
<h2 id = "link-18">1.7. Acknowledgements</h2>
<p id = "para-30">Besides the <a href = "https://www.rust-lang.org/">Rust</a> compiler and standard library, Crowbook uses the following libraries:</p>
<ul>
<li><a href = "https://crates.io/crates/pulldown-cmark">pulldown-cmark</a></li>
<li><a href = "https://crates.io/crates/yaml-rust">yaml-rust</a></li>
<li><a href = "https://crates.io/crates/mustache">mustache</a></li>
<li><a href = "https://github.com/kbknapp/clap-rs">clap</a></li>
<li><a href = "https://crates.io/crates/chrono">chrono</a></li>
<li><a href = "https://crates.io/crates/uuid">uuid</a></li>
<li><a href = "https://crates.io/crates/mime_guess">mime_guess</a></li>
<li><a href = "https://crates.io/crates/crossbeam">crossbeam</a></li>
<li><a href = "https://crates.io/crates/walkdir">walkdir</a></li>
<li><a href = "https://crates.io/crates/rustc-serialize">rustc-serialize</a></li>
<li><a href = "https://crates.io/crates/caribon">caribon</a></li>
<li><a href = "https://crates.io/crates/hyper">hyper</a></li>
<li><a href = "https://crates.io/crates/url">url</a></li>
<li><a href = "https://crates.io/crates/lazy_static">lazy_static</a></li>
<li><a href = "https://crates.io/crates/regex">regex</a></li>
</ul>
<p id = "para-31">It also embeds <a href = "https://highlightjs.org/">Highlight.js</a> in HTML output to enable syntax highlighting for code blocks.</p>
<p id = "para-32">It also uses configuration files from <a href = "https://github.com/japaric/rust-everywhere">rust-everywhere</a> to use <a href = "https://travis-ci.org/">Travis</a> and <a href = "http://www.appveyor.com/">Appveyor</a> to generate binaries for various platforms on each release.</p>
<p id = "para-33">While Crowbook directly doesn’t use them, there was also inspiration from <a href = "http://pandoc.org/">Pandoc</a> and <a href = "https://github.com/azerupi/mdBook">mdBook</a>.</p>
<p id = "para-34">Also, the <a href = "https://validator.w3.org/">W3C HTML validator</a> and the <a href = "http://validator.idpf.org/">IDPF EPUB validator</a> proved very useful during development.</p>
<h2 id = "link-19">1.8. ChangeLog</h2>
<p id = "para-35">See <a href = "chapter_006.html">ChangeLog</a>.</p>
<h2 id = "link-20">1.9. Library</h2>
<p id = "para-36">While the main purpose of Crowbook is to be runned as a standalone program, the code is written as a library, so if you want to build on it you can use it as such. You can look at the generated documentation on <a href = "https://docs.rs/releases/search?query=crowbook">docs.rs</a>.</p>
<p id = "para-37">Additionally, <a href = "https://github.com/lise-henry/crowbook-text-processing/">crowbook-text-processing</a> is a separate library containing all the “typographic” functions (smart quotes, handling of non-breaking spaces in french, ...).</p>
<h2 id = "link-21">1.10. License</h2>
<p id = "para-38">Crowbook is free software: you can redistribute it and/or modify it under the terms of the GNU Lesser General Public License (LGPL), version 2.1 or (at your option) any ulterior version. See <a href = "chapter_007.html">LICENSE</a> for more information.</p>
<p id = "para-39">Crowbook’s logo is licensed under the <a href = "https://creativecommons.org/licenses/by/4.0/deed.en">Creative Commons Attribution 4.0 International license</a>, based on the <a href = "https://commons.wikimedia.org/wiki/File:Rust_programming_language_black_logo.svg">Rust logo</a> by Mozilla Corporation.</p>
<p id = "para-40">Crowbook includes binary (minified) CSS and Javascript files from <a href = "https://highlightjs.org/">Highlight.js</a>, written by Ivan Sagalaev, licensed under the following terms:</p>
<blockquote><p id = "para-41">Copyright (c) 2006, Ivan Sagalaev</p>
<p id = "para-42">All rights reserved.</p>
<p id = "para-43">Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:</p>
<ul>
<li>Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.</li>
<li>Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.</li>
<li>Neither the name of highlight.js nor the names of its contributors may be used to endorse or promote products derived from this software without specific prior written permission.</li>
</ul>
<p id = "para-44">THIS SOFTWARE IS PROVIDED BY THE REGENTS AND CONTRIBUTORS ``AS IS’’ AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE REGENTS AND CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.</p>
</blockquote>

      <p class = "next_chapter">
  <a href = "chapter_001.html">
    2. Arguments »
  </a>
</p>
    </div>
  </div>
  <footer id = "footer"><p id = "para-290">Generated by <a href = "https://github.com/lise-henry/crowbook">Crowbook</a> 0.10.2-pre</p>
</footer>
  </body>
</html>

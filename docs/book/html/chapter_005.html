<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="generator" content="crowbook">
    <meta name="author" content="Élisabeth Henry">
    <meta name="viewport" content="width=device-width">
    <title>Crowbook User Guide – <b>6.</b> Tips and tricks</title>
    <link rel = "stylesheet" href = "stylesheet.css" type = "text/css"
          />
    <link rel = "stylesheet" href = "print.css" type = "text/css"
          media = "print" />
    <link rel = "stylesheet" href = "highlight.css" type = "text/css"
          />
    <script src = "highlight.js"></script>
    <script>
      hljs.initHighlightingOnLoad();
    </script>
   <script>
function on(name) {
    var elements = document.getElementsByClassName(name);
    for (var i = 0; i < elements.length; i++) {
        var elem = elements[i];
        elem.style.backgroundColor = "pink";
    }
}
function off(name) {
    var elements = document.getElementsByClassName(name);
    for (var i = 0; i < elements.length; i++) {
        var elem = elements[i];
        elem.style.backgroundColor = "white";
    }
}

var display_menu = false;
function toggle() {
    if (display_menu == true) {
        display_menu = false;
        document.getElementById("nav").style.left = "-20%";
        document.getElementById("content").style.marginLeft = "10%";
        document.getElementById("menu").style.left = "1em";
        if(document.getElementById("top")) {
            document.getElementById("top").style.left = "0";
        }
        if(document.getElementById("footer")) {
            document.getElementById("footer").style.marginLeft = "0%";
        }
    } else {
        display_menu = true;
        document.getElementById("nav").style.left = "0";
        document.getElementById("content").style.marginLeft = "30%";
        document.getElementById("menu").style.left = "20%";
        if(document.getElementById("top")) {
            document.getElementById("top").style.left = "20%";
        }
        if(document.getElementById("footer")) {
            document.getElementById("footer").style.marginLeft = "20%";
        }
    }
}

   </script>


  </head>  
  <body>

  <nav id = "nav">
    <h2><a href = "index.html">Crowbook User Guide</a></h2>
    <ul>
 <li><a href = "chapter_000.html#link-1"><b>1.</b> Crowbook</a>
 <ul>
  <li><a href = "chapter_000.html#link-2">1.1. Example</a>
  </li>
  <li><a href = "chapter_000.html#link-3">1.2. Installing</a>
  </li>
  <li><a href = "chapter_000.html#link-7">1.3. Dependencies</a>
  </li>
  <li><a href = "chapter_000.html#link-8">1.4. Quick tour</a>
  </li>
  <li><a href = "chapter_000.html#link-9">1.5. Current features</a>
  </li>
  <li><a href = "chapter_000.html#link-17">1.6. Contributors</a>
  </li>
  <li><a href = "chapter_000.html#link-18">1.7. Acknowledgements</a>
  </li>
  <li><a href = "chapter_000.html#link-19">1.8. ChangeLog</a>
  </li>
  <li><a href = "chapter_000.html#link-20">1.9. Library</a>
  </li>
  <li><a href = "chapter_000.html#link-21">1.10. License</a>
  </li>
 </ul>
 </li>
 <li><a href = "chapter_001.html#link-22"><b>2.</b> Arguments</a>
 <ul>
  <li><a href = "chapter_001.html#link-23">2.1. <code>--create</code></a>
  </li>
  <li><a href = "chapter_001.html#link-25">2.2. <code>--single</code></a>
  </li>
  <li><a href = "chapter_001.html#link-26">2.3. <code>--set</code></a>
  </li>
  <li><a href = "chapter_001.html#link-28">2.4. <code>--proofread</code></a>
  </li>
  <li><a href = "chapter_001.html#link-29">2.5. <code>--list-options</code></a>
  </li>
  <li><a href = "chapter_001.html#link-30">2.6. <code>--print-template</code></a>
  </li>
  <li><a href = "chapter_001.html#link-31">2.7. <code>--verbose</code></a>
  </li>
  <li><a href = "chapter_001.html#link-32">2.8. <code>--to</code></a>
  </li>
  <li><a href = "chapter_001.html#link-34">2.9. <code>--output</code></a>
  </li>
 </ul>
 </li>
 <li><a href = "chapter_002.html#link-35"><b>3.</b> The configuration file</a>
 <ul>
  <li><a href = "chapter_002.html#link-36">3.1. The list of files</a>
  </li>
  <li><a href = "chapter_002.html#link-37">3.2. Crowbook options</a>
  </li>
 </ul>
 </li>
 <li><a href = "chapter_003.html#link-65"><b>4.</b> Templates</a>
 <ul>
  <li><a href = "chapter_003.html#link-66">4.1. List of templates</a>
  </li>
  <li><a href = "chapter_003.html#link-81">4.2. Create and edit template</a>
  </li>
  <li><a href = "chapter_003.html#link-85">4.3. List of accessible variables</a>
  </li>
 </ul>
 </li>
 <li><a href = "chapter_004.html#link-89"><b>5.</b> Proofreading with Crowbook</a>
 <ul>
  <li><a href = "chapter_004.html#link-90">5.1. Enabling proofreading</a>
  </li>
  <li><a href = "chapter_004.html#link-91">5.2. Repetition detection</a>
  </li>
  <li><a href = "chapter_004.html#link-92">5.3. Grammar checking</a>
  </li>
  <li><a href = "chapter_004.html#link-93">5.4. Highlighting non-breaking spaces</a>
  </li>
 </ul>
 </li>
 <li><a href = "chapter_005.html#link-94"><b>6.</b> Tips and tricks</a>
 <ul>
  <li><a href = "chapter_005.html#link-95">6.1. Using Crowbook with Emacs' markdown mode</a>
  </li>
  <li><a href = "chapter_005.html#link-98">6.2. Embedding fonts in an EPUB file</a>
  </li>
 </ul>
 </li>
 <li><a href = "chapter_006.html#link-99">ChangeLog</a>
 <ul>
  <li><a href = "chapter_006.html#link-100">unreleased</a>
  </li>
  <li><a href = "chapter_006.html#link-101">0.9.1 (2016-09-29)</a>
  </li>
  <li><a href = "chapter_006.html#link-102">0.9.0 (2016-09-23)</a>
  </li>
  <li><a href = "chapter_006.html#link-103">0.8.0 (2016-09-19)</a>
  </li>
  <li><a href = "chapter_006.html#link-104">0.7.0 (2016-09-11)</a>
  </li>
  <li><a href = "chapter_006.html#link-105">0.6.0 (2016-09-09)</a>
  </li>
  <li><a href = "chapter_006.html#link-106">0.5.1 (2016-04-14)</a>
  </li>
  <li><a href = "chapter_006.html#link-107">0.5.0 (2016-04-02)</a>
  </li>
  <li><a href = "chapter_006.html#link-108">0.4.0 (2016-03-01)</a>
  </li>
  <li><a href = "chapter_006.html#link-109">0.3.0 (2016-02-27)</a>
  </li>
  <li><a href = "chapter_006.html#link-110">0.2.2 (2016-02-25)</a>
  </li>
  <li><a href = "chapter_006.html#link-111">0.2.1 (2016-02-25)</a>
  </li>
  <li><a href = "chapter_006.html#link-112">0.2.0 (2016-02-25)</a>
  </li>
  <li><a href = "chapter_006.html#link-113">0.1.0 (2016-02-21)</a>
  </li>
 </ul>
 </li>
 <li><a href = "chapter_007.html#link-114">GNU LESSER GENERAL PUBLIC LICENSE</a>
 </li>
</ul>
  </nav>

  <div id = "content">
    <div id = "page">
      <header>
        <div id = "top"><p id = "para-296">Crowbook User Guide 0.10.0</p>
</div>
          <div id = "menu">
      <img id = "menu-button" onclick="toggle();"
           src="menu.svg" alt = "Table of contents" title = "Table of contents" />
          </div>
    </header>
      <p class = "prev_chapter">
  <a href = "chapter_004.html">
    « <b>5.</b> Proofreading with Crowbook
  </a>
</p>
      <h1 id = "link-94"><b>6.</b> Tips and tricks</h1>
<h2 id = "link-95">6.1. Using Crowbook with Emacs' markdown mode</h2>
<p id = "para-207">If you use <a href = "https://www.gnu.org/software/emacs/">Emacs</a> as a text editor, there is a nice <a href = "http://jblevins.org/projects/markdown-mode/">Markdown mode</a> to edit Markdown files.</p>
<p id = "para-208">It is possible to use Crowbook for HTML previewing in his mode, which <a href = "http://xkcd.com/1742/">requires only minimal configuration and tweaking</a>:</p>
<pre><code class = "language-lisp">(custom-set-variables
 '(markdown-command "crowbook -qs --to html --output /dev/stdout")
 '(markdown-command-needs-filename t))
</code></pre>
<p id = "para-210">You can then use <code>markdown-preview</code> (or <code>C-c C-c p</code><a href = "#note-dest-6"><sup id = "note-source-6">[6]</sup></a>) to run crowbook on this file and preview it in your browser, or run <code>markdown-live-preview-mode</code> to see a live preview (updated each time you save you file) in Emacs' integrated browser.</p>
<h3 id = "link-96">Some explanations if it looks a bit cryptic to you</h3>
<p id = "para-211">We set <code>markdown-command</code> to <code>crowbook</code>, the reason for this is a bit obvious. The arguments we give to crowbook might not be a bit less obvious:</p>
<ul>
<li><code>-qs</code> or <code>--quiet --single</code> tells crowbook that is a a standalone markdown file, and not a book configuration file, and to be a bit quiet on error/info messages;</li>
<li><code>--to html</code> specifies that HTML must be generated;</li>
<li><code>--output /dev/stdout</code> forces crowbook to displays the result on the stdout, even if you set <code>output.html</code> to <code>some_file.html</code> (yes, this is a bit ugly).</li>
</ul>
<p id = "para-212">Also, <code>(markdown-command-needs-filename t)</code> is because at this point Crowbook can't read from the stdin and must be specified a file.</p>
<h3 id = "link-97">Limitations</h3>
<p id = "para-213">While it renders correctly, this only works really nicely on standalone markdown files where you have specified, e.g.:</p>
<pre><code class = "language-markdown">---
author: Your name
title: Some title
---
</code></pre>
<p id = "para-214">Else, it will sets <code>author</code> and <code>title</code> to the default values (<code>anonymous</code> and <code>untitled</code>, respectively).</p>
<h2 id = "link-98">6.2. Embedding fonts in an EPUB file</h2>
<p id = "para-215">In order to embed fonts in an EPUB file, you'll first have to edit the stylesheet, which you can first obtain with:</p>
<pre><code class = "language-bash">$ crowbook --print-template epub.css &gt; my_epub_stylesheet.css
</code></pre>
<p id = "para-216">You'll need to use the <a href = "https://developer.mozilla.org/fr/docs/Web/CSS/@font-face"><code>@font-face</code> attribute</a>:</p>
<pre><code class = "language-css">@font-face {
  font-family: MyFont;
  src: url(data/my_font.ttf);
}
</code></pre>
<p id = "para-217">Then you can add <code>my_font.ttf</code> to the files that need to be added to the EPUB zip file:</p>
<pre><code class = "language-yaml">title: My Book
author: Me

cover: cover.png
output.epub: book.epub

resources.files: my_font.ttf
</code></pre>
<p id = "para-218">(Note that you'll have to repeat the process the different <code>font-weight</code> and <code>font-style</code> variants of your font if you want it to display correctly when there is some text in <b>bold</b>, <em>italics</em>, or <b><em>both</em></b>.)</p>
 <div class = "notes">
 <h2 class = "notes">Notes</h2>
<table class = "notes">
<tr class = "notes">
 <td class = "note-number">
  <p class = "note-number">
  <a href = "#note-source-6">[6]</a>
</p>

 </td>
 <td class = "note">
  <aside id = "note-dest-6"><p id = "para-209">Yes, this looks like a crypto-communist statement.</p>
</aside>
  </td>
</tr>
</table>
</div>

      <p class = "next_chapter">
  <a href = "chapter_006.html">
    ChangeLog »
  </a>
</p>
    </div>
  </div>
  <footer id = "footer"><p id = "para-295">Generated by <a href = "https://github.com/lise-henry/crowbook">Crowbook</a> 0.10.0-unreleased</p>
</footer>
  </body>
</html>
